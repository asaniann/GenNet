_format_version: "3.0"
_transform: true

services:
  - name: auth-service
    url: http://auth-service:8000
    routes:
      - name: auth-routes
        paths:
          - /api/v1/auth
    
  - name: grn-service
    url: http://grn-service:8000
    routes:
      - name: grn-routes
        paths:
          - /api/v1/networks
        plugins:
          - name: jwt
    
  - name: workflow-service
    url: http://workflow-service:8000
    routes:
      - name: workflow-routes
        paths:
          - /api/v1/workflows
        plugins:
          - name: jwt
    
  - name: collaboration-service
    url: http://collaboration-service:8000
    routes:
      - name: collaboration-routes
        paths:
          - /api/v1/collaboration
        plugins:
          - name: jwt
    
  - name: metadata-service
    url: http://metadata-service:8000
    routes:
      - name: metadata-routes
        paths:
          - /api/v1/metadata
        plugins:
          - name: jwt

plugins:
  - name: cors
    config:
      origins:
        - "*"
      methods:
        - GET
        - POST
        - PUT
        - DELETE
        - PATCH
        - OPTIONS
      headers:
        - Accept
        - Accept-Version
        - Content-Length
        - Content-MD5
        - Content-Type
        - Date
        - Authorization

